# Release Notes: v0.1.1

**MyTreatmentPath v0.1.1 - Multi-User Signup + Cloud Sync**

**Release Date:** February 19, 2026  
**Previous Version:** v0.1.0

---

## ğŸ‰ What's New

### Multi-User Account Creation

**Users can now create their own accounts!**

Previously, only one user could set up the app (first-time setup). Now anyone can sign up and create their own account.

**Features:**
- âœ… Signup/login toggle on login screen
- âœ… Username + password authentication
- âœ… Password confirmation during signup
- âœ… Username uniqueness validation
- âœ… bcrypt password hashing (10 rounds)
- âœ… JWT session tokens (7-day expiry)
- âœ… Full audit logging

**UI Changes:**
- Login screen now has **"Don't have an account? Sign up"** link
- Signup screen shows **"Already have an account? Sign in"** link
- Confirm password field during signup
- Clean error messages

**Security:**
- All passwords hashed with bcrypt
- JWT tokens in HTTP-only cookies (XSS protection)
- CSRF protection (sameSite: strict)
- All registration events logged in audit_log

---

### Local-First Cloud Sync

**Optionally sync research papers to the cloud for multi-device access.**

PHI (medications, labs, vitals, genomics) **stays encrypted on your device**. Only research papers and user settings sync to Supabase.

**Features:**
- âœ… **Local-first** - Works 100% offline
- âœ… **PHI stays local** - Health data never syncs
- âœ… **Research syncs** - Papers, tags, preferences
- âœ… **Multi-device** - Access from multiple Macs
- âœ… **Encrypted backups** - Full database backups in cloud
- âœ… **Sync status widget** - See what's synced
- âœ… **Manual control** - You decide when to sync

**How to use:**
1. Go to **Profile** â†’ **Settings** (new tab!)
2. Click **"Connect to Cloud"**
3. Enter email + password
4. System creates Supabase Auth user
5. Syncs research papers automatically
6. Future syncs: Click **"Sync Now"**

**What syncs to cloud:**
- âœ… Research papers (PubMed articles)
- âœ… Tags (paper categories)
- âœ… User preferences (search terms)
- âœ… Encrypted database backups

**What stays local (NEVER syncs):**
- âŒ Medications
- âŒ Lab results
- âŒ Vitals
- âŒ Genomic data
- âŒ Meal analyses
- âŒ Patient profile

**UI Changes:**
- New **"Settings"** sub-tab in Profile
- CloudSync component shows sync status
- "Connect to Cloud" modal (email/password)
- "Sync Now" button when papers unsynced
- Last sync timestamp displayed
- Privacy reminder (PHI stays local)

**Database Changes:**
- New `sync_log` table (audit trail)
- Added `users.supabase_user_id`
- Added `users.email`
- Added `users.last_synced_at`
- Added `users.sync_status`
- Added `papers.supabase_paper_id`
- Added `papers.synced_at`

---

## ğŸš€ Improvements

### Backend

**New API Endpoints:**
- `POST /api/auth/register` - Create new user account
- `GET /api/sync/status` - Get sync status
- `POST /api/sync/connect` - Connect to cloud
- `POST /api/sync/research` - Sync papers
- `POST /api/sync/full` - Full sync (user + research)

**New Service:**
- `server/cloud-sync.js` - Cloud sync logic
- `syncUserToCloud()` - Create Supabase Auth user
- `syncResearchToCloud()` - Sync papers to Supabase
- `fullSync()` - One-click sync
- `getSyncStatus()` - Current sync state

**Database Migration:**
- `server/migrations/004_add_cloud_sync.sql` - Schema updates
- `run-cloud-sync-migration.js` - Migration runner

### Frontend

**New Components:**
- `src/components/CloudSync.jsx` - Sync status widget
- `src/components/CloudSync.css` - Component styles

**Updated Components:**
- `src/Login.jsx` - Added signup mode + toggle
- `src/App.jsx` - Added Settings sub-tab in Profile
- `src/Login.css` - Added link button styles

---

## ğŸ“ Documentation

**New Docs:**
- `ACCOUNT-CREATION-ONBOARDING.md` - Signup guide
- `CLOUD-SYNC-COMPLETE.md` - Cloud sync guide
- `docs/` - Complete documentation restructure (see below)

**Documentation Restructure:**
- ğŸ“ `docs/getting-started/` - Installation, quickstart, account setup
- ğŸ“ `docs/features/` - Genomics, medications, nutrition, cloud sync, etc.
- ğŸ“ `docs/deployment/` - Vercel, Supabase, Apple signing, Electron build
- ğŸ“ `docs/security/` - HIPAA compliance, encryption, privacy policy
- ğŸ“ `docs/integrations/` - FHIR, Slack, portal sync
- ğŸ“ `docs/development/` - Architecture, database schema, API reference, contributing
- ğŸ“ `docs/changelog/` - Release notes by version

---

## ğŸ› Bug Fixes

- Fixed: Git commit author set to proper email (jeperkins4@hotmail.com)
- Fixed: Vercel deployment config (removed output directory)

---

## ğŸ”§ Technical Changes

### Dependencies

No new dependencies added. Existing:
- `@supabase/supabase-js` (already installed for v0.1.0)
- All encryption/auth dependencies unchanged

### Database Schema

**New table:**
```sql
CREATE TABLE sync_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id INTEGER NOT NULL,
  sync_type TEXT NOT NULL,
  status TEXT NOT NULL,
  items_synced INTEGER DEFAULT 0,
  error_message TEXT,
  created_at TEXT DEFAULT CURRENT_TIMESTAMP
);
```

**Updated tables:**
- `users` - Added 4 cloud sync columns
- `papers` - Added 2 cloud sync columns

### Security

- bcrypt password hashing (10 rounds)
- JWT tokens (HMAC-SHA256, 7-day expiry)
- HTTP-only cookies (XSS protection)
- CSRF protection (sameSite: strict)
- Client-side backup encryption (AES-256)
- Supabase Auth integration (email/password)

---

## ğŸ“¦ Installation

### Download

- **macOS (Apple Silicon):** [MyTreatmentPath-0.1.1-arm64.dmg](https://github.com/jeperkins4/medical-research-tracker/releases/download/v0.1.1/MyTreatmentPath-0.1.1-arm64.dmg)
- **ZIP (Alternative):** [MyTreatmentPath-0.1.1-arm64-mac.zip](https://github.com/jeperkins4/medical-research-tracker/releases/download/v0.1.1/MyTreatmentPath-0.1.1-arm64-mac.zip)

### Upgrade from v0.1.0

1. Download v0.1.1
2. Install (replaces old version)
3. Database auto-migrates on first run
4. All existing data preserved
5. Cloud sync available in Settings

---

## ğŸ”® What's Next

### Planned for v0.2.0

- **Auto-updates** - Electron auto-updater
- **Background sync** - Auto-sync every 15 minutes
- **Keychain integration** - macOS Keychain for encryption keys
- **Key rotation** - Automated re-encryption
- **Touch ID** - Biometric app unlock
- **Bi-directional sync** - Download papers from cloud
- **Conflict resolution** - Handle multi-device edits

---

## ğŸ™ Contributors

- **John Perkins** ([@jeperkins4](https://github.com/jeperkins4)) - Lead developer
- **Jor-El** (AI Assistant) - Code generation + documentation

---

## ğŸ“„ License

MIT License - See [LICENSE](../../LICENSE) file

---

## ğŸ› Known Issues

### Cloud Sync
- **Real-time sync not implemented** - Must click "Sync Now" manually
- **No conflict resolution** - Last write wins
- **No offline queue** - Changes made offline don't auto-sync when back online

### Multi-User
- **No password reset** - If you forget password, must create new account
- **No email verification** - Cloud accounts created without email confirmation

**Workarounds documented in** [Cloud Sync Guide](../features/cloud-sync.md)

---

## ğŸ“ Support

- **Documentation:** [docs.mytreatmentpath.com](https://website-ecru-ten-36.vercel.app)
- **Issues:** [GitHub Issues](https://github.com/jeperkins4/medical-research-tracker/issues)
- **Discussions:** [GitHub Discussions](https://github.com/jeperkins4/medical-research-tracker/discussions)

---

**Built with â¤ï¸ by cancer patients, for patients who want control over their treatment journey.**

**Previous release:** [v0.1.0](v0.1.0.md)
